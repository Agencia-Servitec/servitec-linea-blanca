---
interface Props {
	isActive?: string;
}

const { isActive } = Astro.props;
---

<nav
	id="NavBarMovil"
	class="nav desactivado absolute right-0 top-0 z-[500] flex h-screen w-full justify-end bg-black/50"
>
	<div class="flex w-4/5 flex-col bg-white p-6">
		<button class="my-2 inline-block p-2" id="btn-close">
			<svg
				xmlns="http://www.w3.org/2000/svg"
				viewBox="0 0 384 512"
				width="15"
				class="fill-red-700"
			>
				<path
					d="M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"
				></path></svg
			>
		</button>
		<ul class="space-y-1">
			<li>
				<a
					href="/"
					class="block rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700"
				>
					Inicio
				</a>
			</li>

			<li>
				<details class="group [&_summary::-webkit-details-marker]:hidden">
					<summary
						class="flex cursor-pointer items-center justify-between rounded-lg px-4 py-2 text-gray-500 hover:bg-gray-100 hover:text-gray-700"
					>
						<span class="text-sm font-medium"> Servicios</span>

						<span
							class="shrink-0 transition duration-300 group-open:-rotate-180"
						>
							<svg
								xmlns="http://www.w3.org/2000/svg"
								class="h-5 w-5"
								viewBox="0 0 20 20"
								fill="currentColor"
							>
								<path
									fill-rule="evenodd"
									d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
									clip-rule="evenodd"></path>
							</svg>
						</span>
					</summary>

					<ul class="mt-2 space-y-1 px-4">
						<li>
							<a
								href=""
								class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
							>
								Reparación de Cocinas
							</a>
						</li>

						<li>
							<a
								href=""
								class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
							>
								Reparación de Refrigeradoras
							</a>
						</li>
						<li>
							<a
								href=""
								class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
							>
								Reparación de Lavadoras
							</a>
						</li>
						<li>
							<a
								href=""
								class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
							>
								Reparación de Cámaras de Seguridad
							</a>
						</li>
						<li>
							<a
								href=""
								class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
							>
								Reparación de Televisores
							</a>
						</li>
					</ul>
				</details>
			</li>

			<li>
				<a
					href="/about-us"
					class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
				>
					Sobre Nosotros
				</a>
			</li>

			<li>
				<a
					href=""
					class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
				>
					Contacto
				</a>
			</li>
		</ul>
	</div>
</nav>

<style>
	.active {
		height: auto;
		transition-duration: 0.3s;
	}

	.activado {
		transform: translateX(0);
		transition-duration: 0.3s;
	}

	.desactivado {
		transition-duration: 0.3s;
		transform: translateX(100%);
	}
</style>

<script>
	const $btnClose = document.querySelector('#btn-close');
	const nav = document.querySelector('.nav');
	const btnSubmenu = document.querySelector('.btn-submenu');
	const subMenu = document.querySelector('.sub-menu');
	const arrow = document.querySelector('#arrow');

	$btnClose.addEventListener('click', () => {
		if (nav.classList.contains('activado')) {
			nav.classList.remove('activado');
			nav.classList.add('desactivado');
			document.querySelector('body').style.overflow = 'initial';
		}
	});

	// btnSubmenu.addEventListener('click', () => {
	// 	subMenu.classList.toggle('active');
	// });
</script>
